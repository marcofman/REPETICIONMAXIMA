<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Método Milón: Casa - Nivel 1</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect x='10' y='35' width='25' height='30' rx='5' fill='%23f59e0b'/><rect x='65' y='35' width='25' height='30' rx='5' fill='%23f59e0b'/><rect x='30' y='45' width='40' height='10' rx='5' fill='%23f59e0b'/></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Manrope', sans-serif; }
        h1, h2, h3, h4, .font-bebas { font-family: 'Bebas Neue', sans-serif; letter-spacing: 0.05em; }
        .gradient-text { background: linear-gradient(to right, #f59e0b, #ef4444); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .week-tab-active, .day-tab-active { background-color: #f59e0b; color: #ffffff; }
        .week-tab-inactive, .day-tab-inactive { background-color: #e5e7eb; color: #4b5563; }
        .day-checked { background-color: #f59e0b !important; color: #ffffff !important; border-color: #f59e0b !important; }
        .set-checkbox:checked + label { text-decoration: line-through; color: #9ca3af; }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-5xl">

        <header class="text-center mb-10">
            <h1 class="text-6xl md:text-7xl font-extrabold gradient-text">MÉTODO MILÓN</h1>
            <h2 class="text-xl md:text-2xl text-gray-800 font-semibold mt-2 font-bebas">POR PROF. MARCO FLORES</h2>
            <p class="text-lg text-gray-600 mt-2">El Camino a tu Mejor Versión</p>
        </header>
        
        <div class="text-center mb-12 space-y-4 sm:space-y-0 sm:space-x-4">
            <button id="open-guide-btn" class="bg-gray-800 text-amber-400 font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-black transition-all duration-300 transform hover:scale-105 font-bebas text-xl">
                GUÍA ESENCIAL
            </button>
            <button id="open-theory-btn" class="bg-gray-800 text-amber-400 font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-black transition-all duration-300 transform hover:scale-105 font-bebas text-xl">
                LA TEORÍA DE MILÓN
            </button>
        </div>

        <section class="mb-12 bg-white p-6 rounded-lg border border-gray-200">
            <h3 class="text-2xl text-gray-900 font-bebas text-center mb-4">Equipo Necesario</h3>
            <ul class="list-disc list-inside text-gray-700 max-w-md mx-auto text-left">
                <li>Un par de mancuernas (ajustables o de peso fijo)</li>
                <li>Bandas de resistencia</li>
                <li>Una silla o banco estable</li>
                <li>(Opcional) Una esterilla o mat</li>
            </ul>
        </section>

        <main>
            <section id="workout-view">
                 <div id="level-intro-text" class="bg-amber-50 border border-amber-200 text-amber-800 p-4 rounded-lg mb-8 text-center"></div>
                <div id="rutinas">
                    <h2 id="workout-title" class="text-4xl text-gray-900 mb-6 text-center"></h2>
                    
                    <div id="week-tabs" class="flex justify-center mb-2 border-b-2 border-gray-300"></div>
                    <div id="day-tabs" class="flex flex-wrap justify-center mb-6"></div>

                    <div id="workouts-container" class="space-y-6"></div>
                </div>
                
                <div id="calendario" class="mt-12">
                    <h2 class="text-4xl text-gray-900 mb-6 text-center">Calendario de Seguimiento Semanal</h2>
                    <div class="flex justify-center"></div>
                </div>
            </section>
        </main>

        <section id="coach-profile" class="bg-gray-100 p-8 rounded-2xl mt-12">
            <div class="text-center">
                <h3 class="text-3xl text-gray-900">Unas palabras de tu Coach</h3>
                <p class="text-amber-600 font-semibold mt-1">Prof. Marco Flores</p>
                <p class="text-gray-700 mt-4 max-w-xl mx-auto">
                    ¡Hola! Soy Marco. Llevo más de 12 años dedicado a guiar transformaciones físicas basadas en ciencia y resultados. Mi enfoque se centra en la sobrecarga progresiva y la adaptación inteligente, una filosofía que he perfeccionado a lo largo de una carrera muy diversa: desde centros de alto rendimiento como Youtopia y la Ciudad Deportiva USS, hasta mi trabajo en el campo clínico y en el sector público de Providencia. Mi pasión por el movimiento comenzó a los 16 años con el Kickboxing y las MMA, y esa disciplina la aplico hoy para ayudarte, sea cual sea tu nivel, a construir tu mejor versión.
                </p>
                <blockquote class="mt-6 italic text-gray-600 border-l-4 border-amber-300 pl-4 inline-block text-left">
                    “La fuerza no se hereda. Se construye, carga a carga.”
                </blockquote>
            </div>
        </section>

        <footer class="text-center mt-12 py-6 border-t border-gray-300">
            <h3 class="text-3xl text-gray-900 font-bebas mb-4">¿Listo para el Siguiente Nivel?</h3>
            <h4 class="text-xl font-bebas text-gray-900">Método Milón | Creado por Prof. Marco Flores</h4>
            <p class="text-sm text-gray-600 mb-6">Tu Coach de Recomposición Corporal</p>
            <a href="https://wa.me/56948505747?text=Hola%20Marco%2C%20termin%C3%A9%20el%20Nivel%201%20de%20Casa%20y%20quiero%20ir%20por%20el%20siguiente%20nivel." target="_blank" class="bg-green-500 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-105 font-bebas text-xl inline-flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 16 16"><path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.93 7.93 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.89 7.89 0 0 0 13.6 2.326zM7.994 14.521a6.57 6.57 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/></svg>
                <span>¡QUIERO EL NIVEL 2!</span>
            </a>
        </footer>
    </div>
    
    <div id="guide-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 transition-opacity duration-300">
        <div id="guide-modal-overlay" class="absolute inset-0 bg-black opacity-70"></div>
        <div class="bg-white rounded-2xl shadow-2xl z-10 w-full max-w-2xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95">
            <div class="p-6 sm:p-8">
                <div class="flex justify-between items-center border-b border-gray-200 pb-4 mb-6">
                    <h2 id="guide-modal-title" class="text-4xl text-gray-900">Guía Esencial de Recomposición</h2>
                    <button id="close-guide-btn" class="text-3xl text-gray-500 hover:text-gray-900 leading-none">&times;</button>
                </div>

                <div id="guide-main-view" class="space-y-6 text-gray-700">
                    <div>
                        <h3 class="text-2xl text-amber-600 mb-2">Pilar 1: Nutrición Inteligente</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong>Proteína es REY:</strong> Apunta a consumir <strong>1.6-2.2 gramos de proteína por kg de tu peso</strong>.</li>
                            <li><strong>Déficit Calórico Controlado:</strong> Unas 300-500 calorías por debajo de tu mantenimiento es un punto de partida ideal.</li>
                            <li>
                                <strong>Carbohidratos para Rendir:</strong> Úsalos estratégicamente alrededor de tus entrenamientos. 
                                <button id="show-carbs-btn" class="text-blue-600 hover:underline text-sm font-semibold">(Ver ejemplos)</button>
                            </li>
                            <li><strong>Grasas para la Salud:</strong> Son cruciales para tus hormonas. Prioriza fuentes saludables.</li>
                        </ul>
                    </div>
                    <div><h3 class="text-2xl text-amber-600 mb-2">Pilar 2: Hidratación Constante</h3><ul class="list-disc list-inside space-y-2"><li><strong>El Músculo es Agua:</strong> Bebe un mínimo de <strong>2-3 litros de agua al día</strong>, y más en días de entrenamiento.</li></ul></div>
                    <div><h3 class="text-2xl text-amber-600 mb-2">Pilar 3: Descanso y Recuperación</h3><ul class="list-disc list-inside space-y-2"><li><strong>Fábrica de Músculo Nocturna:</strong> Apunta a <strong>7-9 horas de sueño de calidad</strong> por noche.</li><li><strong>Días Libres son Días de Crecimiento:</strong> El músculo crece cuando descansas, no cuando entrenas.</li></ul></div>
                </div>

                <div id="guide-carbs-view" class="hidden space-y-4 text-gray-700">
                    <div>
                        <h3 class="text-2xl text-amber-600 mb-2">Fuentes de Carbohidratos Complejos</h3>
                        <p class="text-sm mb-2">Ideales para energía sostenida durante el día.</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>Avena</li>
                            <li>Arroz integral / Quinoa</li>
                            <li>Papas / Camote (Batata)</li>
                            <li>Legumbres (lentejas, garbanzos)</li>
                            <li>Pan integral o de masa madre</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-2xl text-amber-600 mb-2">Fuentes de Carbohidratos Simples</h3>
                        <p class="text-sm mb-2">Excelentes para reponer energía rápidamente después de entrenar.</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>Frutas (plátano, manzana, berries)</li>
                            <li>Arroz blanco</li>
                            <li>Miel</li>
                        </ul>
                    </div>
                    <div class="pt-4">
                        <button id="back-to-guide-btn" class="text-blue-600 hover:underline font-semibold">&larr; Volver a la guía</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div id="theory-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 transition-opacity duration-300">
        <div id="theory-modal-overlay" class="absolute inset-0 bg-black opacity-70"></div>
        <div class="bg-white rounded-2xl shadow-2xl z-10 w-full max-w-2xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95">
            <div class="p-6 sm:p-8">
                <div class="flex justify-between items-center border-b border-gray-200 pb-4 mb-6"><h2 class="text-4xl text-gray-900">¿Por qué "Milón"?</h2><button id="close-theory-btn" class="text-3xl text-gray-500 hover:text-gray-900 leading-none">&times;</button></div>
                <div class="space-y-4 text-gray-700">
                    <p>El nombre del método se inspira en <strong>Milón de Crotona</strong>, una leyenda de la antigua Grecia y uno de los atletas más grandes de la historia.</p>
                    <p>La historia cuenta que Milón desarrolló su increíble fuerza levantando un ternero recién nacido sobre sus hombros cada día. A medida que el ternero crecía y se convertía en un toro, la fuerza de Milón crecía con él, hasta que fue capaz de levantar al animal adulto.</p>
                    <p class="font-bold text-amber-800">Esta leyenda es la encarnación perfecta del principio de <strong>sobrecarga progresiva</strong>, el pilar fundamental de este programa. Tu progreso, al igual que la fuerza de Milón, se construirá día a día, carga a carga, repetición a repetición.</p>
                </div>
            </div>
        </div>
    </div>

<script>
    const programData = {
        casa: {
            levels: {
                1: {
                    intro: "¡Bienvenido al Nivel 1! Aquí sentaremos las bases de tu transformación. Concéntrate en la técnica y la constancia para construir esos cimientos de acero. Una vez que domines estas 4 semanas, ¡estaremos listos para el desafío del Nivel 2!",
                    title: 'Casa: Nivel 1<br><span class="text-2xl font-normal text-gray-500 tracking-wider">Cimientos de Acero</span>',
                    weeks: {
                        1: {
                            focus: "Semana 1: Aclimatación y Técnica",
                            days: ['Día 1: Torso', 'Día 2: Pierna', 'Día 3: Cardio/Desc.', 'Día 4: Torso', 'Día 5: Pierna'],
                            workouts: {'0':{exercises:[{name:'Flexiones de Pecho',sets:3,reps:'8-15',rest:'60s',rir:'2',tip:'Manos al ancho de los hombros. Abdomen contraído para mantener el cuerpo en una línea recta. Codos a 45 grados del torso.'},{name:'Remo con Mancuerna',sets:3,reps:'10-12 c/u',rest:'75s',rir:'2',tip:'Espalda totalmente plana y paralela al suelo. Tira de la mancuerna hacia tu cadera, liderando con el codo.'},{name:'Press de Hombro (Sentado)',sets:3,reps:'10-12',rest:'75s',rir:'2',tip:'Espalda recta y apoyada. Empuja verticalmente hasta casi bloquear los codos.'},{name:'Fondos en Banco',sets:3,reps:'10-15',rest:'60s',rir:'1',tip:'Mantén la espalda cerca del banco. Flexiona codos hasta 90 grados y empuja con los tríceps.'},{name:'Curl de Bíceps',sets:3,reps:'12-15',rest:'60s',rir:'1',tip:'Codos pegados a los costados. Levanta sin balancear el cuerpo. Rota la muñeca en la subida.'},{name:'Plancha Lateral',sets:3,reps:'30-45s c/u',rest:'30s',tip:'Mantén la cadera elevada formando una línea recta con tu cuerpo.'}]},'1':{exercises:[{name:'Sentadilla Goblet',sets:4,reps:'10-12',rest:'90s',rir:'2',tip:'Mancuerna contra tu pecho. Cadera hacia atrás y abajo, rompiendo la paralela. Pecho erguido siempre.'},{name:'Zancadas con Mancuernas',sets:3,reps:'10-12 c/u',rest:'75s',rir:'2',tip:'Rodilla delantera no sobrepasa la punta del pie. Baja hasta que la rodilla trasera casi toque el suelo.'},{name:'Puente de Glúteos con peso',sets:3,reps:'12-15',rest:'60s',rir:'1',tip:'Empuja la cadera hacia el techo, contrayendo los glúteos fuertemente en la cima.'},{name:'Sentadilla Búlgara',sets:3,reps:'8-10 c/u',rest:'60s',rir:'1',tip:'Pie trasero en un banco. Torso recto y baja controlado hasta que la rodilla delantera forme 90 grados.'},{name:'Elevación de Talones',sets:3,reps:'15-20',rest:'45s',rir:'1',tip:'En un escalón para mayor rango. Sube lo más alto posible, aguanta 1s, y baja lentamente.'},{name:'Abducción de Cadera con Banda',sets:3,reps:'15-20 c/u',rest:'45s',rir:'1',tip:'Banda sobre las rodillas. Tumbado de lado, eleva la pierna superior controladamente.'}]},'2':{cardio:"30-45 min Cardio LISS." },'3':{exercises:[{name:'Remo Invertido',sets:3,reps:'Al fallo',rest:'90s',rir:'2',tip:'Bajo una mesa. Tira de tu pecho hacia la mesa, manteniendo el cuerpo en una línea recta.'},{name:'Press Militar (De pie)',sets:3,reps:'8-10',rest:'75s',rir:'2',tip:'Aprieta glúteos y abdomen para estabilizar. Empuja las mancuernas hacia arriba y ligeramente hacia adentro.'},{name:'Pájaros con Mancuernas',sets:3,reps:'12-15',rest:'60s',rir:'1',tip:'Inclina el torso, espalda recta. Eleva los brazos lateralmente, contrayendo los hombros posteriores.'},{name:'Press Francés',sets:3,reps:'10-12',rest:'60s',rir:'1',tip:'Tumbado, baja las pesas hacia los lados de tu cabeza flexionando solo los codos.'},{name:'Face Pull con Banda',sets:3,reps:'15-20',rest:'45s',tip:'Esencial para la salud del hombro. Tira de la banda hacia tu cara.'},{name:'Elevación de Piernas (Tumbado)',sets:3,reps:'15-20',rest:'60s',tip:'Controla la bajada para maximizar la tensión en el abdomen inferior.'}]},'4':{exercises:[{name:'Peso Muerto Rumano',sets:4,reps:'10-12',rest:'90s',rir:'2',tip:'Rodillas casi rectas. Baja el torso empujando la cadera hacia atrás. Siente el estiramiento en los femorales.'},{name:'Hip Thrust con Mancuerna',sets:3,reps:'12-15',rest:'75s',rir:'1',tip:'Apoya la espalda alta en un banco. Empuja con los glúteos hasta formar una línea recta de hombros a rodillas.'},{name:'Zancada Reversa',sets:3,reps:'10-12 c/u',rest:'60s',rir:'2',tip:'Da un paso largo hacia atrás. Torso erguido. Empuja con la pierna delantera para volver.'},{name:'Curl Femoral con Banda',sets:3,reps:'12-15',rest:'60s',rir:'1',tip:'Tumbado boca abajo. Flexiona las rodillas trayendo los talones hacia los glúteos contra la resistencia.'},{name:'Patada de Glúteo',sets:3,reps:'15-20 c/u',rest:'45s',rir:'1',tip:'En cuadrupedia, rodilla a 90 grados, eleva la pierna hacia el techo contrayendo el glúteo.'},{name:'Puente de Glúteos a 1 Pierna',sets:3,reps:'10-12 c/u',rest:'45s',rir:'1',tip:'Misma técnica que el puente normal, pero con una pierna extendida. Máxima concentración en el glúteo que trabaja.'}]}}
                        },
                        2: {
                            focus: "Semana 2: Sobrecarga de Volumen",
                             days: ['Día 1: Torso', 'Día 2: Pierna', 'Día 3: Cardio/Desc.', 'Día 4: Torso', 'Día 5: Pierna'],
                            workouts: {'0':{exercises:[{name:'Flexiones de Pecho',sets:4,reps:'8-15',rest:'60s',rir:'2',tip:'Añadimos una serie. Mantén la misma técnica impecable que en la semana 1.'},{name:'Remo con Mancuerna',sets:4,reps:'10-12 c/u',rest:'75s',rir:'2',tip:'Más volumen para construir más espalda. No sacrifiques el rango de movimiento.'},{name:'Press de Hombro (Sentado)',sets:4,reps:'10-12',rest:'75s',rir:'2',tip:'Una serie extra para añadir más trabajo a los hombros.'},{name:'Fondos en Banco',sets:4,reps:'10-15',rest:'60s',rir:'1',tip:'Intenta sacar alguna repetición más que la semana pasada.'},{name:'Curl de Bíceps',sets:4,reps:'12-15',rest:'60s',rir:'1',tip:'Añadimos una serie para un mayor bombeo.'},{name:'Plancha Lateral',sets:4,reps:'30-45s c/u',rest:'30s',tip:'Aumenta el volumen total para un core más fuerte.'}]},'1':{exercises:[{name:'Sentadilla Goblet',sets:5,reps:'10-12',rest:'90s',rir:'2',tip:'Aumentamos a 5 series. ¡Aquí se construye la fuerza de tus piernas!'},{name:'Zancadas con Mancuernas',sets:4,reps:'10-12 c/u',rest:'75s',rir:'2',tip:'Una serie más para un estímulo superior en cuádriceps y glúteos.'},{name:'Puente de Glúteos con peso',sets:4,reps:'12-15',rest:'60s',rir:'1',tip:'Más volumen para fortalecer y redondear los glúteos.'},{name:'Sentadilla Búlgara',sets:4,reps:'8-10 c/u',rest:'60s',rir:'1',tip:'Concéntrate en la estabilidad y el control en esta serie adicional.'},{name:'Elevación de Talones',sets:4,reps:'15-20',rest:'45s',rir:'1',tip:'Añade una serie para asegurar el estímulo en los gemelos.'},{name:'Abducción de Cadera con Banda',sets:4,reps:'15-20 c/u',rest:'45s',rir:'1',tip:'Más volumen para fortalecer el glúteo medio.'}]},'2':{cardio:"30-45 min Cardio LISS." },'3':{exercises:[{name:'Remo Invertido',sets:4,reps:'Al fallo',rest:'90s',rir:'2',tip:'Una serie más para maximizar el trabajo de espalda.'},{name:'Press Militar (De pie)',sets:4,reps:'8-10',rest:'75s',rir:'2',tip:'Más volumen para construir hombros fuertes y estables.'},{name:'Pájaros con Mancuernas',sets:4,reps:'12-15',rest:'60s',rir:'1',tip:'Concéntrate en la contracción de la espalda alta en esta serie extra.'},{name:'Press Francés',sets:4,reps:'10-12',rest:'60s',rir:'1',tip:'Una serie más para asegurar el trabajo completo del tríceps.'},{name:'Face Pull con Banda',sets:4,reps:'15-20',rest:'45s',tip:'Añade una serie para fortalecer el manguito rotador.'},{name:'Elevación de Piernas (Tumbado)',sets:4,reps:'15-20',rest:'60s',tip:'Más volumen para un abdomen más fuerte.'}]},'4':{exercises:[{name:'Peso Muerto Rumano',sets:5,reps:'10-12',rest:'90s',rir:'2',tip:'Añadimos una serie para un estímulo superior en la cadena posterior.'},{name:'Hip Thrust con Mancuerna',sets:4,reps:'12-15',rest:'75s',rir:'1',tip:'Más volumen para un desarrollo completo de los glúteos.'},{name:'Zancada Reversa',sets:4,reps:'10-12 c/u',rest:'60s',rir:'2',tip:'Una serie adicional para un trabajo unilateral más profundo.'},{name:'Curl Femoral con Banda',sets:4,reps:'12-15',rest:'60s',rir:'1',tip:'Asegura el estímulo en los femorales con más volumen.'},{name:'Patada de Glúteo',sets:4,reps:'15-20 c/u',rest:'45s',rir:'1',tip:'Una serie más para el aislamiento final del glúteo.'},{name:'Puente de Glúteos a 1 Pierna',sets:4,reps:'10-12 c/u',rest:'45s',rir:'1',tip:'Aumenta el volumen en este ejercicio de aislamiento.'}]}}
                        },
                         3: {
                            focus: "Semana 3: Sobrecarga de Intensidad",
                            days: ['Día 1: Torso', 'Día 2: Pierna', 'Día 3: Cardio/Desc.', 'Día 4: Torso', 'Día 5: Pierna'],
                            workouts: {'0':{exercises:[{name:'Flexiones de Pecho',sets:3,reps:'Al fallo',rest:'60s',rir:'1',tip:'Sube el peso o la dificultad (ej. pies elevados). El objetivo es llegar a RIR 1.'},{name:'Remo con Mancuerna',sets:3,reps:'8-10 c/u',rest:'75s',rir:'1',tip:'Aumenta el peso. La técnica debe ser estricta.'},{name:'Press de Hombro (Sentado)',sets:3,reps:'8-10',rest:'75s',rir:'1',tip:'Más peso, menos repeticiones. Concéntrate en la fuerza.'},{name:'Fondos en Banco',sets:3,reps:'Al fallo',rest:'60s',rir:'1',tip:'Llega al fallo técnico con buena forma.'},{name:'Curl de Bíceps',sets:3,reps:'10-12',rest:'60s',rir:'1',tip:'Usa un peso que te rete en este rango de repeticiones.'},{name:'Plancha Lateral',sets:3,reps:'Al fallo c/u',rest:'30s',tip:'Aguanta hasta que la cadera empiece a caer.'}]},'1':{exercises:[{name:'Sentadilla Goblet',sets:4,reps:'8-10',rest:'90s',rir:'1',tip:'Incrementa la carga. Cada repetición debe costar.'},{name:'Zancadas con Mancuernas',sets:3,reps:'8-10 c/u',rest:'75s',rir:'1',tip:'Más peso. Enfócate en la potencia de la pierna delantera.'},{name:'Puente de Glúteos con peso',sets:3,reps:'10-12',rest:'60s',rir:'1',tip:'Aumenta el peso. Sigue apretando fuerte en la cima.'},{name:'Sentadilla Búlgara',sets:3,reps:'6-8 c/u',rest:'60s',rir:'1',tip:'Con más peso, la estabilidad será un reto mayor. Mantén el core firme.'},{name:'Elevación de Talones',sets:3,reps:'12-15',rest:'45s',rir:'1',tip:'Aumenta el peso para desafiar a tus gemelos.'},{name:'Abducción de Cadera con Banda',sets:3,reps:'Al fallo c/u',rest:'45s',rir:'0-1',tip:'Usa una banda más dura o haz más repeticiones.'}]},'2':{cardio:"30-45 min Cardio LISS." },'3':{exercises:[{name:'Remo Invertido',sets:3,reps:'Al fallo',rest:'90s',rir:'1',tip:'Si es muy fácil, añade una pausa de 2 segundos en la cima.'},{name:'Press Militar (De pie)',sets:3,reps:'6-8',rest:'75s',rir:'1',tip:'Semana de fuerza para los hombros. ¡Sube ese peso!'},{name:'Pájaros con Mancuernas',sets:3,reps:'10-12',rest:'60s',rir:'1',tip:'Controla el movimiento con un peso mayor.'},{name:'Press Francés',sets:3,reps:'8-10',rest:'60s',rir:'1',tip:'Más intensidad para un mayor estímulo en los tríceps.'},{name:'Face Pull con Banda',sets:3,reps:'12-15',rest:'45s',tip:'Usa una banda más gruesa para aumentar el reto.'},{name:'Elevación de Piernas (Tumbado)',sets:3,reps:'Al fallo',rest:'45s',rir:'0-1',tip:'Lleva tu abdomen al límite.'}]},'4':{exercises:[{name:'Peso Muerto Rumano',sets:4,reps:'8-10',rest:'90s',rir:'1',tip:'Aumenta el peso, pero NUNCA sacrifiques la espalda recta.'},{name:'Hip Thrust con Mancuerna',sets:3,reps:'10-12',rest:'75s',rir:'1',tip:'Más carga para un estímulo máximo del glúteo.'},{name:'Zancada Reversa',sets:3,reps:'8-10 c/u',rest:'60s',rir:'1',tip:'Concéntrate en la fuerza con un peso más desafiante.'},{name:'Curl Femoral con Banda',sets:3,reps:'10-12',rest:'60s',rir:'1',tip:'Usa una banda más gruesa o añade una pausa en la contracción.'},{name:'Patada de Glúteo',sets:3,reps:'12-15 c/u',rest:'45s',rir:'1',tip:'Concéntrate en la contracción máxima con una banda más fuerte.'},{name:'Puente de Glúteos a 1 Pierna',sets:3,reps:'Al fallo c/u',rest:'45s',rir:'1',tip:'Llega al fallo manteniendo una buena técnica.'}]}}
                        },
                        4: {
                            focus: "Semana 4: Descarga (Deload)",
                            days: ['Día 1: Torso', 'Día 2: Pierna', 'Día 3: Cardio/Desc.'],
                            workouts: {'0':{exercises:[{name:'Flexiones de Pecho',sets:2,reps:'10-12',rest:'60s',rir:'3-4',tip:'Reduce el peso/dificultad. El objetivo es mover la sangre y recuperarse.'},{name:'Remo con Mancuerna',sets:2,reps:'12-15 c/u',rest:'75s',rir:'3-4',tip:'Usa un peso ligero. Técnica perfecta y fluida.'},{name:'Press de Hombro (Sentado)',sets:2,reps:'12-15',rest:'75s',rir:'3-4',tip:'Movimiento ligero para mantener la articulación activa.'},{name:'Curl de Bíceps',sets:2,reps:'15',rest:'60s',rir:'4',tip:'Bombeo ligero, sin estrés.'},{name:'Plancha Abdominal',sets:2,reps:'30 seg',rest:'60s',tip:'Activación del core sin fatiga excesiva.'},{name:'Face Pull con Banda',sets:2,reps:'20',rest:'45s',tip:'Movilidad y salud del hombro.'}]},'1':{exercises:[{name:'Sentadilla Goblet',sets:3,reps:'12-15',rest:'90s',rir:'3-4',tip:'Menos series y peso. Prioriza la movilidad.'},{name:'Puente de Glúteos con peso',sets:2,reps:'15-20',rest:'60s',rir:'3-4',tip:'Peso muy ligero, enfócate en la activación del glúteo.'},{name:'Elevación de Talones',sets:2,reps:'15-20',rest:'45s',rir:'3-4',tip:'Movimiento suave para bombear sangre.'},{name:'Curl Femoral con Banda',sets:2,reps:'15',rest:'60s',rir:'4',tip:'Bombeo ligero.'},{name:'Abducción de Cadera con Banda',sets:2,reps:'20',rest:'45s',rir:'4',tip:'Activación ligera.'},{name:'Patada de Glúteo',sets:2,reps:'20',rest:'45s',rir:'4',tip:'Activación ligera.'}]},'2':{cardio:"Caminata suave 20-30 min." }}
                        }
                    }
                }
            }
        }
    };
    let currentCategory = 'casa';
    let currentLevel = '1';
    let currentWeek = 1;

    const workoutTitle = document.getElementById('workout-title');
    const introTextContainer = document.getElementById('level-intro-text');
    const weekTabsContainer = document.getElementById('week-tabs');
    const dayTabsContainer = document.getElementById('day-tabs');
    const workoutsContainer = document.getElementById('workouts-container');
    const calendarContainer = document.querySelector('#calendario .flex');
    const openGuideBtn = document.getElementById('open-guide-btn');
    const closeGuideBtn = document.getElementById('close-guide-btn');
    const guideModal = document.getElementById('guide-modal');
    const guideModalOverlay = document.getElementById('guide-modal-overlay');
    const openTheoryBtn = document.getElementById('open-theory-btn');
    const closeTheoryBtn = document.getElementById('close-theory-btn');
    const theoryModal = document.getElementById('theory-modal');
    const theoryModalOverlay = document.getElementById('theory-modal-overlay');
    const guideModalTitle = document.getElementById('guide-modal-title');
    const guideMainView = document.getElementById('guide-main-view');
    const guideCarbsView = document.getElementById('guide-carbs-view');
    const showCarbsBtn = document.getElementById('show-carbs-btn');
    const backToGuideBtn = document.getElementById('back-to-guide-btn');

    function showWorkoutView(category, level) {
        const levelData = programData[category].levels[level];
        workoutTitle.innerHTML = levelData.title;
        introTextContainer.textContent = levelData.intro;
        generateWeekTabs(Object.keys(levelData.weeks));
        showWeek(1);
    }

    function generateWeekTabs(weeks) {
        weekTabsContainer.innerHTML = '';
        weeks.forEach(weekNumber => {
            const weekData = programData[currentCategory].levels[currentLevel].weeks[weekNumber];
            const tab = document.createElement('button');
            tab.className = `week-tab py-2 px-4 font-bebas text-lg rounded-t-lg ${weekNumber == 1 ? 'week-tab-active' : 'week-tab-inactive'}`;
            tab.innerHTML = `Semana ${weekNumber}<br><span class="text-xs font-normal">${weekData.focus}</span>`;
            tab.onclick = () => showWeek(weekNumber);
            weekTabsContainer.appendChild(tab);
        });
    }

    function showWeek(weekNumber) {
        currentWeek = weekNumber;
        document.querySelectorAll('.week-tab').forEach((tab, index) => {
            tab.classList.toggle('week-tab-active', (index + 1) == weekNumber);
            tab.classList.toggle('week-tab-inactive', (index + 1) != weekNumber);
        });
        const weekData = programData[currentCategory].levels[currentLevel].weeks[weekNumber];
        generateDayTabs(weekData.days);
        generateCalendar(weekData.days);
        if(weekData.days.length > 0) {
            showWorkout(0);
        }
    }
    
    function generateDayTabs(days) {
        dayTabsContainer.innerHTML = '';
        days.forEach((day, index) => {
            const tab = document.createElement('button');
            tab.className = `day-tab py-2 px-4 font-bebas text-md rounded-lg m-1 ${index === 0 ? 'day-tab-active' : 'day-tab-inactive'}`;
            tab.textContent = day;
            tab.onclick = () => showWorkout(index);
            dayTabsContainer.appendChild(tab);
        });
    }

    function showWorkout(dayIndex) {
        document.querySelectorAll('.day-tab').forEach((tab, index) => {
            tab.classList.toggle('day-tab-active', index === dayIndex);
            tab.classList.toggle('day-tab-inactive', index !== dayIndex);
        });
        
        const workoutData = programData[currentCategory].levels[currentLevel].weeks[currentWeek].workouts[dayIndex];
        workoutsContainer.innerHTML='';
        if(!workoutData || (!workoutData.exercises && !workoutData.cardio)){
            workoutsContainer.innerHTML=`<p class="text-center text-gray-500">No hay ejercicios para este día.</p>`;
            return;
        }
        if(workoutData.exercises){
            workoutData.exercises.forEach(ex => {
                const uniqueId=`prog-${currentCategory}-${currentLevel}-w${currentWeek}-d${dayIndex}-${ex.name.replace(/\s+/g,'-')}`;
                const setsCheckboxes=Array.from({length:ex.sets||0},(_,i)=>`<div class="flex items-center"><input type="checkbox" id="set-${uniqueId}-${i}" class="set-checkbox h-4 w-4 rounded bg-gray-100 border-gray-300 text-amber-500 focus:ring-amber-600"><label for="set-${uniqueId}-${i}" class="ml-2 text-sm text-gray-600">Serie ${i+1}</label></div>`).join('');
                const exerciseCard=document.createElement('div');
                exerciseCard.className="bg-white border border-gray-200 p-5 rounded-lg shadow-sm";
                exerciseCard.innerHTML=`
                    <div class="flex justify-between items-start flex-wrap gap-4">
                        <div>
                            <h4 class="text-2xl text-gray-900">${ex.name}</h4>
                            <p class="text-amber-600 font-semibold text-sm mt-1">${ex.sets||'N/A'} series x ${ex.reps||'N/A'} reps</p>
                            <p class="text-gray-600 text-xs mt-1">${ex.rest?`Desc: ${ex.rest}`:''} ${ex.tempo?`| Tempo: ${ex.tempo}`:''} ${ex.rir?`| RIR: ${ex.rir}`:''}</p>
                            <div class="mt-2 flex items-center gap-2">
                                <label for="weight-${uniqueId}" class="text-sm font-semibold text-gray-500">Peso:</label>
                                <input type="text" id="weight-${uniqueId}" class="weight-input w-24 rounded-md border-gray-300 shadow-sm text-sm focus:ring-amber-500 focus:border-amber-500" placeholder="ej: 10kg">
                            </div>
                        </div>
                        <div class="flex space-x-3">${setsCheckboxes}</div>
                    </div>
                    ${ex.tip?`<p class="text-sm mt-3 pt-3 border-t border-gray-200 text-gray-600"><strong>Técnica Clave:</strong> ${ex.tip}</p>`:''}`;
                workoutsContainer.appendChild(exerciseCard);
            });
        }
        if(workoutData.cardio){
            const cardioCard=`<div class="bg-white border-2 border-dashed border-amber-400 p-5 rounded-lg mt-6"><div class="flex items-center gap-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-amber-500 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" /></svg><div><h4 class="text-2xl text-gray-900">Cardio y Recuperación</h4><p class="text-gray-700 mt-1">${workoutData.cardio}</p></div></div></div>`;
            if(!workoutData.exercises){
                workoutsContainer.innerHTML=cardioCard;
            } else {
                workoutsContainer.innerHTML+=cardioCard;
            }
        }
        loadAndSaveProgress();
    }
    
    function generateCalendar(days) {
        calendarContainer.innerHTML = '';
        const weekEl = document.createElement('div');
        weekEl.className = 'bg-white border border-gray-200 p-4 rounded-lg w-full max-w-2xl';
        weekEl.innerHTML = `<h3 class="text-xl text-gray-900 text-center mb-4">Progreso Semana ${currentWeek}</h3>`;
        const weekGrid = document.createElement('div');
        weekGrid.className = 'grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 text-center';
        days.forEach((day, dayIndex) => {
            const dayEl = document.createElement('div');
            let dayName = day.split(':')[0];
            const dayId = `cal-${currentCategory}-${currentLevel}-w${currentWeek}-d${dayIndex}`;
            dayEl.id = dayId;
            dayEl.className = 'calendar-day bg-gray-200 p-3 rounded-md cursor-pointer border-2 border-transparent hover:border-amber-500 transition-all font-semibold';
            dayEl.textContent = dayName;
            if (localStorage.getItem(dayId) === 'true') {
                dayEl.classList.add('day-checked');
            }
            dayEl.addEventListener('click', () => {
                dayEl.classList.toggle('day-checked');
                localStorage.setItem(dayId, dayEl.classList.contains('day-checked'));
            });
            weekGrid.appendChild(dayEl);
        });
        weekEl.appendChild(weekGrid);
        calendarContainer.appendChild(weekEl);
    }
    function loadAndSaveProgress(){
        document.querySelectorAll('.set-checkbox').forEach(checkbox => {
            if(localStorage.getItem(checkbox.id) === 'true'){
                checkbox.checked = true;
            }
            checkbox.addEventListener('change', () => {
                localStorage.setItem(checkbox.id, checkbox.checked);
            });
        });
        document.querySelectorAll('.weight-input').forEach(input => {
            input.value = localStorage.getItem(input.id) || '';
            input.addEventListener('input', () => {
                localStorage.setItem(input.id, input.value);
            });
        });
    }

    function openModal(modal, overlay){
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        setTimeout(()=> overlay.classList.remove('opacity-0'), 10);
    }

    function closeModal(modal, overlay){
        overlay.classList.add('opacity-0');
        setTimeout(()=> modal.classList.add('hidden'), 300);
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        showWorkoutView('casa', '1');
        openGuideBtn.addEventListener('click', () => {
            guideModalTitle.textContent = 'Guía Esencial de Recomposición';
            guideMainView.classList.remove('hidden');
            guideCarbsView.classList.add('hidden');
            openModal(guideModal, document.getElementById('guide-modal-overlay'));
        });

        closeGuideBtn.addEventListener('click', () => closeModal(guideModal, document.getElementById('guide-modal-overlay')));
        document.getElementById('guide-modal-overlay').addEventListener('click', () => closeModal(guideModal, document.getElementById('guide-modal-overlay')));
        
        openTheoryBtn.addEventListener('click', () => openModal(theoryModal, document.getElementById('theory-modal-overlay')));
        closeTheoryBtn.addEventListener('click', () => closeModal(theoryModal, document.getElementById('theory-modal-overlay')));
        document.getElementById('theory-modal-overlay').addEventListener('click', () => closeModal(theoryModal, document.getElementById('theory-modal-overlay')));

        showCarbsBtn.addEventListener('click', () => {
            guideModalTitle.textContent = 'Fuentes de Carbohidratos';
            guideMainView.classList.add('hidden');
            guideCarbsView.classList.remove('hidden');
        });

        backToGuideBtn.addEventListener('click', () => {
            guideModalTitle.textContent = 'Guía Esencial de Recomposición';
            guideCarbsView.classList.add('hidden');
            guideMainView.classList.remove('hidden');
        });
    });
</script>
</body>
</html>

